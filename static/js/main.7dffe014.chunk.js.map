{"version":3,"sources":["components/bookstore-service-context/bookstore-service-context.js","components/error/error-indicator/index.js","components/error/error-indicator/error-indiator.js","components/error/error-boundry/index.js","components/error/error-boundry/error-boundry.js","components/hoc/with-context-service.js","actions/index.js","utils/compose.js","components/order-sum/order-sum.js","components/order-sum/index.js","components/order-form/order-form.js","components/spinner/index.js","components/spinner/spinner.js","components/order-form/visible-element.js","components/order-form/order-form-container.js","components/order-form/index.js","components/shopping-cart-table/shopping-cart-table.js","components/shopping-cart-table/index.js","components/pages/cart-page.js","components/search-panel/search-panel.js","components/search-panel/index.js","components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/book-list/book-list.js","components/book-list/index.js","components/pages/home-page.js","components/shop-header/index.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","reducers/book-list.js","reducers/shopping-cart.js","reducers/order.js","reducers/postOrder.js","reducers/index.js","store.js","index.js","services/bookstore-services.js"],"names":["React","createContext","BookServiceProvider","Provider","BookServiceConsumer","Consumer","ErrorIndicator","react_default","a","createElement","className","ErrorBoundry","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","hasError","componentDidCatch","setState","error_indicator","props","children","Component","withBookService","Wrapped","bookService","assign","fetchBooks","dispatch","type","getAllBook","then","data","payload","catch","err","postOrder","json","concat","JSON","stringify","postForm","orderError","onOpenAndCloseForm","onAddedToCart","bookId","onChangePage","id","onBuy","compose","_len","arguments","length","funcs","Array","_key","comp","reduceRight","wrapped","f","OrderSum","_ref","orederItems","totalPrice","document","body","style","overflow","onClick","map","item","idx","title","count","total","key","OrderSumContainer","_this$props","orderVis","obviouslyOrder","order_sum_OrderSum","error_boundry","mapDispatchToProps","connect","_state$bookReduser$or","bookReduser","orderBook","required","value","undefined","number","isNaN","Number","email","test","address","postcode","renderField","input","label","_ref$meta","meta","touched","error","warning","placeholder","OrderForm","_ref2","handleSubmit","onSubmit","Field","name","component","validate","data-dismiss","Spinner","VisilbleElement","successPost","loading","components_spinner","order_form","OrderFormContainer","reset","obviouslyform","visible_element","bind","reduxForm","form","_state$bookReduser$po","onIncrease","onDelete","onDecrease","onBuyOrder","ShoppingCartTable","_state$bookReduser$sh","shoppingCart","items","cartItems","orderTotal","btnBuy","CartPage","components_shopping_cart_table","SearchPanelContainer","onLabelChange","event","target","preventDefault","onSearchToBook","pages","search_panel_SearchPanel","SearchPanel","onChange","role","aria-label","page","index","_state$bookReduser$bo","bookList","btnNone","BookListItem","book","author","coverImage","price","pagesAmount","src","alt","BookList","visibleItem","components_book_list_item","BookListContainer","book_list_BookList","books","HomePage","components_search_panel","components_book_list","ShopHeader","orderCount","react_router_dom","to","App","components_shop_header","numItems","react_router","path","exact","search","filter","toLowerCase","indexOf","checkPage","action","check","_state$bookList","per_page","myBooks","start_count","start_offset","countPages","arr1","i","Math","ceil","push","updateBookList","updateCartItems","checkBook","typeUpdate","oldBook","addBook","objectSpread","toFixed","toConsumableArray","slice","addedCartItems","newItem","deletedCartItems","idDelBook","updateTotalOrder","updateTotalCount","updateOrder","_state$shoppingCart","find","findIndex","updateShoppingCart","updateBuyBook","updeateOrederItem","updeateOrederItems","updatePostOrder","reducer","rootReducer","combineReducers","formReducer","store","createStore","bookstoreService","BookService","__apiBase","getResource","_getResource","apply","asyncToGenerator","regenerator_default","mark","_callee3","res","wrap","_context3","prev","next","fetch","sent","ok","Error","status","abrupt","stop","_callee","_context","_transformBook","bookName","img","__apiPost","postResource","_x","_postResource","_callee4","_context4","method","_callee2","_context2","success","_x2","ReactDOM","render","es","components_order_sum","components_order_form","components_app","getElementById"],"mappings":"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","file":"static/js/main.7dffe014.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst {\r\n  Provider : BookServiceProvider,\r\n  Consumer : BookServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  BookServiceProvider,\r\n  BookServiceConsumer\r\n};","import ErrorIndicator from './error-indiator';\r\n\r\nexport default ErrorIndicator;","import React from 'react';\r\n\r\nimport './error-indiator.css';\r\n\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"align-items-center error-indicator py-5\">\r\n    <i className=\"fa fa-exclamation-triangle\"/>\r\n     <span>Something went wrong.</span>\r\n       <span> (But our librarians are working on it.)\r\n      </span>\r\n      </div>\r\n    \r\n);\r\n};\r\n\r\nexport default ErrorIndicator;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            hasError: false\r\n        };\r\n        this.componentDidCatch = () => {\r\n            this.setState({ hasError: true });\r\n          };\r\n    };\r\n    render(){\r\n        if (this.state.hasError) {\r\n            return <ErrorIndicator/>\r\n            }\r\n            return this.props.children;\r\n    }\r\n}","import React from 'react';\r\nimport { BookServiceConsumer } from '../bookstore-service-context';\r\n\r\n\r\nconst withBookService = () => (Wrapped) => {\r\n    return(props)=>{\r\n     return(\r\n     <BookServiceConsumer>\r\n            {\r\n            (bookService) =>{\r\n                return(\r\n           <Wrapped {...props} bookService={bookService}/>\r\n           );\r\n            }\r\n         }\r\n        </BookServiceConsumer>);\r\n        };  \r\n};\r\nexport default withBookService;","\r\nconst booksLoaded = (newBooks) => {\r\n   \r\n    return {\r\n        type: 'FETCH_BOOKS_SUCCESS',\r\n        payload: newBooks\r\n    }\r\n   \r\n}\r\n\r\nconst booksRequested = () =>{\r\n    return{\r\n        type: 'FETCH_BOOKS_REQUEST'\r\n    }\r\n};\r\n\r\nconst booksError = (error) => {\r\n    return {\r\n        type: 'FETCH_BOOKS_FAILURE',\r\n        payload: error\r\n    }\r\n}\r\n\r\n\r\nconst  fetchBooks = (dispatch, bookService) => () => {\r\n    dispatch(booksRequested());\r\n    bookService.getAllBook()\r\n    .then((data) => dispatch(booksLoaded(data)))\r\n    .catch((err) => dispatch(booksError(err)))\r\n}\r\n\r\nconst orderRequested = () => {\r\n    return{\r\n        type: 'POST_ORDER_REQUEST'\r\n    }\r\n}\r\n\r\nconst orderPost = (res) => {\r\n    return {\r\n        type: 'POST_ORDER_SUCCESS',\r\n        payload: res\r\n    }\r\n}\r\n\r\nconst orderError = (err) => {\r\n    return {\r\n        type: 'POST_ORDER_FAILURE',\r\n        payload: err\r\n    }\r\n}\r\n\r\n\r\nconst postOrder = (dispatch, bookService) => (data) => {\r\n    dispatch(orderRequested())\r\n    const json =  `{\r\n        \"orderedProducts\": [33251, 2516, 2214, 52156],\r\n        \"client\": ${JSON.stringify(data)}\r\n      }`;\r\n       bookService.postForm(json)\r\n    .then((data) => dispatch(orderPost(data)))\r\n    .catch((err) => dispatch(orderError(err)))\r\n}\r\n\r\nconst onOpenAndCloseForm = () => {\r\n    return {\r\n        type: 'OPEN_CLOSE_FORM'\r\n    }\r\n}\r\n\r\n\r\nconst onAddedToCart = (bookId) => {\r\nreturn {\r\n    type: 'BOOK_ADDED_TO_CART',\r\n    payload: bookId\r\n}\r\n}\r\nconst onDeleteToCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_DELETE_TO_CART',\r\n        payload: bookId\r\n    }\r\n}\r\nconst onDecreaseToCart = (bookId) => {\r\n    return {\r\n        type: 'BOOK_DECREASE_TO_CART',\r\n        payload: bookId\r\n    }\r\n}\r\n\r\nconst onSearchToBook = (label)=> {\r\n        return {\r\n        type: 'SEARCH_TO_BOOK',\r\n        payload: label\r\n    }\r\n        \r\n}\r\nconst onChangePage = (id) => {\r\n \r\n    return {\r\n        type: 'PAGES_TO_BOOK',\r\n        payload: id\r\n    }\r\n\r\n}\r\nconst onBuy = (id) => {\r\n    return {\r\n        type: 'BUY_TO_BOOK',\r\n        payload: id\r\n    }\r\n}\r\nconst onBuyOrder = () => {\r\n    return{\r\n        type: 'BUY_TO_ORDER'\r\n    }\r\n}\r\n \r\n\r\nexport {\r\n    fetchBooks,\r\n    onAddedToCart,\r\n    onDeleteToCart,\r\n    onDecreaseToCart,\r\n    onSearchToBook,\r\n    onChangePage,\r\n    onBuy,\r\n    onBuyOrder,\r\n    postOrder,\r\n    onOpenAndCloseForm\r\n}","const compose = (...funcs) => (comp) => {\r\n    return funcs.reduceRight(\r\n      (wrapped, f) => f(wrapped), comp);\r\n  };\r\n  \r\n  export default compose;","import React, {Component} from 'react'\r\nimport './order-sum.css'\r\n\r\nimport {\r\n    withBookService\r\n  } from '../hoc';\r\n  import {connect} from 'react-redux';\r\n  import { onBuy, onOpenAndCloseForm } from '../../actions';\r\n  import {\r\n    compose\r\n  } from '../../utils'\r\n  \r\n  import ErrorBoundry from \"../error/error-boundry\"\r\n\r\nconst OrderSum = ({onBuy, orederItems, totalPrice, onOpenAndCloseForm}) => {\r\n\r\n\r\n    const renderRow = (item, idx) => {\r\n        const {id , title, count, total} = item\r\n        return (\r\n          <tr key={id}>\r\n          <td>{idx + 1}</td>\r\n          <td>{title}</td>\r\n          <td>{count}</td>\r\n          <td>${total}</td>\r\n        </tr>    \r\n        );\r\n      }\r\n\r\n\r\n    document.body.style.overflow = \"hidden\"\r\n    return (\r\n        <div className=\"overlay\">\r\n    <div className=\"card border-secondary mb-3 popup\">\r\n      <div className=\"card-header\">Header \r\n      <button\r\n      onClick={() => onBuy()}\r\n            className=\"btn  btn-sm float-right\">\r\n              <i className=\"fa fa-close\" />\r\n            </button></div>\r\n      <div className=\"card-body\">\r\n      <table className=\"table order-tabel\">\r\n        <thead>\r\n          <tr>\r\n          <th>#</th>\r\n          <th>Item</th>\r\n          <th>Count</th>\r\n          <th>Price</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          \r\n        {\r\n            orederItems.map(renderRow)\r\n          } \r\n         \r\n       </tbody>\r\n      </table>\r\n    \r\n      <div className=\"total\"> Total: ${totalPrice} \r\n      <button\r\n            onClick={onOpenAndCloseForm}\r\n            className=\"btn  btn-success float-right\">\r\n                DALEJ\r\n            </button> </div>  \r\n      </div>\r\n    </div>\r\n        </div>  \r\n    )\r\n}\r\n\r\nclass OrderSumContainer extends Component{\r\n    render(){\r\n        const {totalPrice, orederItems, onBuy, onOpenAndCloseForm} = this.props;\r\n        const orderVis = this.props.obviouslyOrder?\r\n        <OrderSum onBuy={onBuy} orederItems={orederItems} totalPrice={totalPrice} onOpenAndCloseForm={onOpenAndCloseForm}/>: document.body.style.overflow = \"\";\r\n\r\nreturn (\r\n    <ErrorBoundry>\r\n        {orderVis}\r\n    </ErrorBoundry>\r\n)\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n const {orderBook: {obviouslyOrder, orederItems, totalPrice}} = state.bookReduser\r\n    return{\r\n        obviouslyOrder, \r\n        orederItems,\r\n        totalPrice\r\n    }\r\n  };\r\n\r\n  const mapDispatchToProps =  {\r\n  \r\n    onBuy: onBuy,\r\n    onOpenAndCloseForm: onOpenAndCloseForm\r\n};\r\n\r\nexport default compose(\r\n    withBookService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(OrderSumContainer);","import OrderSumContainer from './order-sum'\r\n\r\nexport default OrderSumContainer;","import React from 'react';\r\nimport { Field} from 'redux-form'\r\n\r\nconst required = value => value ? undefined : 'Required'\r\nconst number = value => value && isNaN(Number(value)) ? 'Must be a number' : undefined\r\nconst email = value =>\r\nvalue && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value) ?\r\n'Invalid email address' : undefined\r\nconst address = value => value && !/[a-fAF]+ +\\d+/i.test(value) ?\r\n'Invalid address' : undefined\r\nconst postcode = value => value && !/\\d\\d-\\d\\d\\d/i.test(value)?\r\n'Invalid postcode' : undefined\r\n\r\nconst renderField = ({ input, label, type, meta: { touched, error, warning } }) => (\r\n    <div>\r\n      <div>\r\n        <input className=\"form-control\" {...input} placeholder={label} type={type}/>\r\n        {touched && ((error && <span className=\"text-danger\">{error}!</span>) || (warning && <span className=\"text-warning\">{warning}!</span>))}\r\n      </div>\r\n    </div>\r\n  )\r\n  \r\n  const OrderForm = ({ handleSubmit, onOpenAndCloseForm }) => {\r\n    document.body.style.overflow = \"hidden\"\r\n      return (\r\n  <div>\r\n      <div className=\"card-header\">Header \r\n        <button\r\n              onClick={onOpenAndCloseForm}\r\n              className=\"btn  btn-sm float-right\">\r\n                <i className=\"fa fa-close\" />\r\n              </button></div>\r\n          <div className=\"card-body\">\r\n          <form onSubmit={handleSubmit}>\r\n    <div className=\"row \">\r\n      <div className=\"col-lg-6 col-sm-12 mb-3\">\r\n              <Field \r\n              name=\"name\"  \r\n              type=\"text\" \r\n              component={renderField} \r\n              label=\"Imię\"\r\n              validate={[ required ]}\r\n       />\r\n      </div>\r\n      <div className=\"col-lg-6 col-sm-12 mb-3\">\r\n              <Field \r\n              name=\"lastName\" \r\n              component={renderField}\r\n              type=\"text\" \r\n              label=\"Nazwisko\" \r\n              validate={required}/>\r\n      </div>\r\n    </div>\r\n    <div className=\"row \">\r\n      <div className=\"col-lg-6 col-sm-12 mb-3\">\r\n              <Field \r\n              name=\"phoneNumber\" \r\n              component={renderField} \r\n              type=\"text\" \r\n              label=\"Numer kontaktowy\"\r\n              validate={[ required, number ]}\r\n               />\r\n      </div> \r\n      <div className=\"col-lg-6 col-sm-12 mb-3\">\r\n              <Field  \r\n              name=\"email\"\r\n              component={renderField} \r\n              type=\"text\"\r\n              validate={email}\r\n              label=\"Email\"/>\r\n      </div>\r\n     \r\n    </div>\r\n    <div className=\"row \">\r\n      <div className=\"col-lg-4 col-sm-12 mb-3\">\r\n              <Field \r\n              name=\"address\" \r\n              component={renderField} \r\n              validate={[required, address]} \r\n              type=\"text\" \r\n              label=\"Ulica i numer budynku\"/>\r\n      </div>\r\n      <div className=\"col-lg-4 col-sm-12 mb-3\">\r\n              <Field \r\n              type=\"text\" \r\n              name=\"city\" \r\n              validate={required} \r\n              component={renderField} \r\n              label=\"Miejscowość\" />\r\n      </div>\r\n      <div className=\"col-lg-4 col-sm-12 mb-3\">\r\n              <Field \r\n              type=\"text\" \r\n              name=\"postalCode\" \r\n              validate={[required, postcode]} \r\n              component={renderField}\r\n              label=\"Kod pocztowy\" />\r\n      </div>\r\n    </div>\r\n    <div className=\"modal-footer pb-0\">\r\n          <button \r\n          type=\"submit\"\r\n           className=\"btn btn-primary\">\r\n               ZAMAWIAM I PŁACĘ\r\n               </button>\r\n          <button \r\n          onClick={onOpenAndCloseForm}\r\n          type=\"button\"  \r\n          className=\"btn btn-secondary\" \r\n          data-dismiss=\"modal\">\r\n              Close\r\n              </button>\r\n        </div>\r\n  </form>\r\n      </div>\r\n      </div>\r\n          \r\n       )\r\n    }\r\n\r\n    export default OrderForm;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner\">\r\n    <div className=\"bounce1\"></div>\r\n    <div className=\"bounce2\"></div>\r\n    <div className=\"bounce3\"></div>\r\n  </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport OrderForm from './order-form'\r\nimport Spinner from '../spinner'\r\n\r\nconst VisilbleElement = ({ handleSubmit,\r\n    onOpenAndCloseForm,\r\n     successPost,\r\n       loading,\r\n       error }) => { \r\n    if(loading){\r\n   return (\r\n<div className=\"overlay\">\r\n  <div className=\" popup\">\r\n    <Spinner/>\r\n  </div>\r\n</div>\r\n   )\r\n}\r\nif(error){\r\n   return (\r\n<div className=\"overlay\">\r\n  <div className=\"alert alert-dismissible alert-danger popup\">\r\n  <button type=\"button\" className=\"close\" onClick={onOpenAndCloseForm} data-dismiss=\"alert\">&times;</button>\r\n  <strong>Oh snap!</strong> Change a few things up and try submitting again.\r\n  </div>\r\n</div>\r\n   );\r\n}\r\nif(successPost){\r\n return (\r\n<div className=\"overlay\">\r\n  <div className=\"alert alert-dismissible alert-success popup\">\r\n  <button type=\"button\" onClick={onOpenAndCloseForm} className=\"close\" data-dismiss=\"alert\">&times;</button>\r\n  <strong>Well done! You successfully send the order</strong> \r\n  </div>\r\n</div>\r\n); \r\n}\r\n return (  \r\n<div className=\"overlay\">\r\n  <div className=\"card border-secondary mb-3 popup\">\r\n    <OrderForm\r\n    handleSubmit={handleSubmit}\r\n    onOpenAndCloseForm={onOpenAndCloseForm} \r\n    />\r\n  </div>\r\n</div>)\r\n}\r\nexport default VisilbleElement;","    \r\nimport React, {Component} from 'react';\r\nimport { reduxForm, reset} from 'redux-form'\r\nimport {connect} from 'react-redux';\r\nimport {\r\n    compose\r\n} from '../../utils'\r\nimport {\r\n    withBookService\r\n} from '../hoc';\r\nimport { postOrder, onOpenAndCloseForm } from '../../actions';\r\nimport VisilbleElement from './visible-element'\r\n\r\n\r\n\r\n  class OrderFormContainer extends Component{\r\n  \r\n    handleSubmit(data) {\r\n        this.props.postOrder(data)\r\n        this.props.dispatch(reset('OrderFormContainer'));\r\n      }\r\n\r\n    render(){\r\n        const { handleSubmit,\r\n          onOpenAndCloseForm,\r\n          obviouslyform,\r\n          successPost,\r\n             loading,\r\n             error } = this.props;\r\n             \r\n        const formVis = obviouslyform?\r\n        <VisilbleElement\r\n        handleSubmit={handleSubmit(this.handleSubmit.bind(this))}\r\n        onOpenAndCloseForm={onOpenAndCloseForm}\r\n        successPost={successPost}\r\n        loading={loading}\r\n        error={error}\r\n         /> : document.body.style.overflow = \"\";\r\n\r\nreturn  formVis      \r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  const {postOrder: {obviouslyform, successPost, error, loading}} = state.bookReduser\r\n   return {\r\n    obviouslyform,\r\n    successPost,\r\n       loading,\r\n       error\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, {bookService}) => {\r\n    return {\r\n        postOrder: postOrder(dispatch, bookService),\r\n        onOpenAndCloseForm:  () => dispatch(onOpenAndCloseForm())\r\n    }\r\n};\r\n  \r\n  export default reduxForm({ form: 'OrderFormContainer' })(compose(\r\n    withBookService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(OrderFormContainer))\r\n\r\n  ","import OrderFormContainer from './order-form-container'\r\n\r\nexport default OrderFormContainer;","import React from 'react';\r\nimport './shopping-cart-table.css';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  onDeleteToCart, \r\n  onDecreaseToCart,\r\n  onAddedToCart,\r\n  onBuyOrder} from '../../actions';\r\n  import ErrorBoundry from \"../error/error-boundry\"\r\n\r\n\r\nconst ShoppingCartTable = ({items, total, onIncrease, onDecrease, onDelete, onBuyOrder}) => {\r\n const btnBuy = (+total===0)?null : <button onClick={() => onBuyOrder()} className=\"btn btn-success btn-lg  mx-3\">\r\n    ZAMÓW\r\n </button>\r\n \r\nconst renderRow = (item, idx) => {\r\n  const {id , title, count, total} = item\r\n  return (\r\n    <tr key={id}>\r\n    <td>{idx + 1}</td>\r\n    <td>{title}</td>\r\n    <td>{count}</td>\r\n    <td>${total}</td>\r\n    <td>\r\n      <button\r\n      onClick={() => onDelete(id)}\r\n       className=\"btn btn-outline-danger btn-sm float-right\">\r\n        <i className=\"fa fa-trash-o\" />\r\n      </button>\r\n      <button \r\n      onClick={()=> onIncrease(id)}\r\n      className=\"btn btn-outline-success btn-sm float-right\">\r\n        <i className=\"fa fa-plus-circle\" />\r\n      </button>\r\n      <button\r\n      onClick={() => onDecrease(id)}\r\n      className=\"btn btn-outline-warning btn-sm float-right\">\r\n        <i className=\"fa fa-minus-circle\" />\r\n      </button>\r\n    </td>\r\n  </tr>    \r\n  );\r\n}\r\n \r\n  return (<ErrorBoundry>\r\n<div className=\"shopping-cart-table\">\r\n      <h2>Your Order</h2>\r\n      <table className=\"table\">\r\n        <thead>\r\n          <tr>\r\n          <th>#</th>\r\n          <th>Item</th>\r\n          <th>Count</th>\r\n          <th>Price</th>\r\n          <th>Action</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          {\r\n            items.map(renderRow)\r\n          }\r\n       </tbody>\r\n      </table>\r\n      \r\n      \r\n      \r\n      <div className=\"total\">\r\n        Total: ${total}  \r\n        {\r\n          btnBuy\r\n        }\r\n      </div>\r\n      \r\n    </div>\r\n    \r\n  </ErrorBoundry>\r\n    \r\n  );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  const {shoppingCart: {cartItems, orderTotal}} = state.bookReduser\r\n  return {\r\n     items: cartItems,\r\n     total: orderTotal\r\n  };\r\n};\r\n\r\n\r\nconst mapDispatchToProps =  {\r\n      onIncrease: onAddedToCart,\r\n      onDelete: onDeleteToCart,\r\n      onDecrease: onDecreaseToCart,\r\n      onBuyOrder: onBuyOrder\r\n  };\r\n\r\n\r\n\r\nexport default  connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);","import ShoppingCartTable from './shopping-cart-table';\r\n\r\nexport default ShoppingCartTable;","import React from 'react'\r\n\r\nimport ShoppingCartTable from '../shopping-cart-table'\r\n\r\nconst  CartPage = () => {\r\n     return  <ShoppingCartTable/>;\r\n};\r\n\r\nexport default CartPage;","import React, {\r\n  Component\r\n} from 'react';\r\nimport \"./search-panel.css\"\r\n\r\nimport {\r\n  compose\r\n} from '../../utils'\r\nimport {\r\n  withBookService\r\n} from '../hoc';\r\nimport {connect} from 'react-redux';\r\nimport { onSearchToBook, onChangePage } from '../../actions';\r\nimport ErrorBoundry from \"../error/error-boundry\"\r\n\r\nclass SearchPanelContainer extends Component {\r\n  \r\n onLabelChange = (event) => {\r\n    const label = event.target.value;\r\n    event.preventDefault();\r\n    this.props.onSearchToBook(label);\r\n  };\r\n\r\n  render() {\r\n    const { pages, onChangePage } = this.props;\r\n    return (\r\n      <ErrorBoundry >\r\n        <SearchPanel\r\n    onSearchToBook={ this.onLabelChange}\r\n    onChangePage={onChangePage}\r\n    pages={pages}\r\n    />\r\n      </ErrorBoundry>\r\n    )\r\n  }\r\n}\r\n\r\nconst SearchPanel = ({onSearchToBook, onChangePage, pages}) =>  {\r\n\r\n    return (\r\n      <div className=\"search-panel d-flex \">\r\n        <div>\r\n           <input type=\"text\"\r\n          className=\"form-control search-input\"\r\n          placeholder=\"search\"\r\n          onChange={onSearchToBook}\r\n           />\r\n        </div>\r\n      <div className=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\" >    \r\n{\r\n  pages.map((page,index)=>{\r\n    return(\r\n      <button\r\n      key={index}\r\n      onClick={() => onChangePage(index+1)}\r\n      type=\"button\" className=\"btn btn-secondary\"\r\n        >{index+1}</button>\r\n    )\r\n  })\r\n}         \r\n      </div>\r\n      </div>\r\n    ); \r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n const {bookList: {pages, btnNone}} = state.bookReduser\r\n  return{\r\n    pages,\r\n    btnNone\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\nreturn{\r\n  onSearchToBook:(label)=> dispatch(onSearchToBook(label)),\r\n  onChangePage: (id)=> dispatch(onChangePage(id))\r\n}\r\n};\r\n\r\nexport default  compose(\r\n  withBookService(),\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(SearchPanelContainer)","import SearchPanel from \"./search-panel\"\r\n\r\nexport default SearchPanel;","import BookListItem from './book-list-item'\r\n\r\nexport default BookListItem;","import React from 'react'\r\nimport './book-list-item.css'\r\n \r\nconst BookListItem = ({ book, onAddedToCart, onBuy }) => {\r\n    const { title, author, coverImage, price, pagesAmount} = book;\r\nreturn(\r\n    <div className=\"card text-white bg-primary mb-3 books-cards \">\r\n  <div className=\"card-body d-flex row\">\r\n     \r\n         <img src={coverImage}\r\n       alt=\"img-books\"\r\n       className=\" img-book col-sm-12 col-md-8 col-lg-6 rounded d-block \"\r\n      /> \r\n         <div className=\"col-md-4 col-sm-12 pt-2 col-lg-6 book-details\">\r\n        <span className=\"book-title\">{title}</span> \r\n        <div className=\"book-autho pt-2\">Author - {author}</div>\r\n        <div className=\"book-pages pt-2\">Pages Amount - {pagesAmount}</div>\r\n    <div className=\"book-price pt-2\">price ( ${price} )</div>\r\n    <div className=\"d-flex justify-content-between \">\r\n    <button\r\n    onClick={onAddedToCart}\r\n    type=\"button\" className=\"btn btn-info btn-book\">DODAJ DO KOSZYKA\r\n    </button>\r\n      <button\r\n      onClick={onBuy}\r\n    className=\"btn btn-success mx-3 btn-book\">\r\n         ZAMÓW\r\n        </button>\r\n        </div>\r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n)\r\n}\r\nexport default BookListItem;","import React, {\r\n    Component\r\n} from 'react';\r\nimport BookListItem from '../book-list-item';\r\nimport ErrorIndicator from '../error/error-indicator'\r\nimport {\r\n    connect\r\n} from 'react-redux';\r\nimport {\r\n    fetchBooks,\r\n    onAddedToCart,\r\n    onChangePage,\r\n    onBuy,\r\n} from '../../actions';\r\nimport {\r\n    compose\r\n} from '../../utils'\r\nimport {\r\n    withBookService\r\n} from '../hoc';\r\nimport Spinner from '../spinner'\r\nimport ErrorBoundry from \"../error/error-boundry\"\r\nimport './book-list.css';\r\n\r\nconst BookList = ({ visibleItem, onAddedToCart, onBuy}) => {\r\n    return(\r\n        <div><ul className=\"list-group m-5\">\r\n            {  visibleItem.map((book) => {\r\n               return (\r\n        <li  className=\"d-flex  align-items-center\"\r\n         key={book.id}>\r\n             <BookListItem book={book} \r\n             onAddedToCart={() => onAddedToCart(book.id)}\r\n             onBuy={() => onBuy(book.id)}/>\r\n             </li>\r\n            )\r\n                \r\n         })\r\n            }\r\n        </ul>\r\n       \r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nclass BookListContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        const { fetchBooks} = this.props;\r\n        \r\n     fetchBooks();\r\n    }\r\n   \r\n    render() {\r\n        const { visibleItem, \r\n            loading, \r\n            error, \r\n            onAddedToCart ,\r\n            onBuy\r\n         } = this.props;\r\n        if(loading){\r\n            return <Spinner/>\r\n        }\r\n        if(error){\r\n            return <ErrorIndicator/>\r\n        }\r\n           return (<ErrorBoundry>\r\n               <BookList \r\n           visibleItem={visibleItem}\r\n           onAddedToCart={onAddedToCart}\r\n           onBuy={onBuy} \r\n           />\r\n           </ErrorBoundry>);\r\n          }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n   const {bookList: {books, loading, error, visibleItem}} = state.bookReduser\r\n    return {\r\n        books,\r\n        visibleItem,\r\n        loading,\r\n        error\r\n     };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch, {bookService}) => {\r\n    return {\r\n        fetchBooks: fetchBooks(dispatch, bookService),\r\n        onAddedToCart: (id) => dispatch(onAddedToCart(id)),\r\n        onChangePage: (id)=> dispatch(onChangePage(id)),\r\n        onBuy: (id) => dispatch(onBuy(id))\r\n    }\r\n};\r\n\r\n\r\nexport default (compose(\r\n    withBookService(),\r\n    connect(mapStateToProps, mapDispatchToProps)\r\n)(BookListContainer))","import BookList from './book-list'\r\n\r\nexport default BookList;","import React from 'react'\r\nimport SearchPanel from '../search-panel'\r\nimport ErrorBoundry from \"../error/error-boundry\"\r\nimport BookList from '../book-list'\r\n\r\nconst HomePage = () => {\r\n    \r\n     return (\r\n          <ErrorBoundry>\r\n              <SearchPanel />\r\n              <BookList  />\r\n             </ErrorBoundry>\r\n   \r\n            \r\n\r\n     );\r\n};\r\n\r\nexport default HomePage;","import ShopHeader from './shop-header';\r\n\r\nexport default ShopHeader;","import React from 'react';\r\nimport './shop-header.css';\r\nimport {Link } from 'react-router-dom'\r\nimport {connect} from 'react-redux';\r\n\r\nconst ShopHeader = ({ items, total }) => {\r\n  return (\r\n    <header className=\"shop-header row\">\r\n      <Link to='/'>\r\n      <div className=\"logo text-mute\" >Books Store</div>\r\n      </Link>\r\n      <Link to=\"/cart\" className=\"shopping-cart\">\r\n      <div>\r\n        <i className=\"cart-icon fa fa-shopping-cart\" />\r\n        {items} Books (${total})\r\n      </div>\r\n      </Link>\r\n    </header>\r\n  );\r\n};\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n const {shoppingCart: {orderCount, orderTotal}} = state.bookReduser\r\n  return {\r\n     items: orderCount,\r\n     total: orderTotal\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ShopHeader);","import App from \"./app\";\r\n\r\nexport default App;","import React from 'react';\r\nimport './app.css';\r\nimport {\r\n    CartPage,\r\n    HomePage\r\n} from '../pages';\r\nimport ShopHeader from '../shop-header'\r\nimport { Switch, Route} from 'react-router-dom'\r\n\r\n\r\nconst App = () => {\r\n        return (\r\n            <main role=\"main\" className=\"container\">\r\n                \r\n            <ShopHeader numItems={5} total={220}/>\r\n            \r\n             <Switch>\r\n                <Route\r\n                path='/' \r\n                exact\r\n                component={HomePage}\r\n                />\r\n                 <Route\r\n                path=\"/cart\"\r\n                component={CartPage}\r\n                />\r\n            </Switch>\r\n            </main>\r\n         \r\n        );\r\n    \r\n};\r\nexport default App;","const search = (state, label) => {\r\n    const {bookList: {books}} = state;\r\n    if (label.length === 0) {\r\n        return books;\r\n      }\r\n      return books.filter((book) => book.title.toLowerCase()\r\n        .indexOf(label.toLowerCase()) > -1);\r\n  \r\n  };\r\n\r\nconst checkPage = (state, action, check, page) => {\r\n    const {bookList: { books, per_page}} = state\r\n    const myBooks = action;\r\n    let start_count = 0;\r\n    const start_offset = (page - 1) * per_page\r\n   if(books.length===myBooks.length || check){\r\n    const arr = myBooks.filter((book, index) =>(index >= start_offset && start_count++ < per_page));  \r\n    return arr\r\n   }\r\n return myBooks  \r\n};\r\n  \r\nconst countPages = (state, action) => {\r\n    const {bookList: { per_page}} = state\r\n    const arr1 = [];\r\n    for(let i = 0; i < Math.ceil(action.length / per_page); i++) {\r\n        arr1.push(i+1);\r\n    };\r\n   return arr1;\r\n}\r\n\r\nconst updateBookList = (state, action) => {\r\n \r\n    if(state === undefined){\r\n        return{\r\n       books: [],\r\n       loading: true,\r\n       error: null,\r\n       label: \"\",\r\n       visibleItem: [],\r\n       per_page: 2,\r\n       pages: []\r\n       }\r\n    }\r\n        switch (action.type) {\r\n            case 'FETCH_BOOKS_REQUEST':\r\n            return {\r\n                per_page: state.bookList.per_page,\r\n                pages: [],   \r\n                books: [],\r\n                loading: true,\r\n                error: null,\r\n                visibleItem: []\r\n                    \r\n            }\r\n        \r\n            case 'FETCH_BOOKS_SUCCESS':\r\n            return {\r\n                per_page: state.bookList.per_page,\r\n                pages: countPages(state, action.payload, 1),\r\n                btnNone: true,\r\n                books: action.payload,\r\n                loading: false,\r\n                error: null,\r\n                visibleItem:  checkPage(state, action.payload, true, 1)  \r\n            }\r\n            case 'FETCH_BOOKS_FAILURE':\r\n                return {\r\n                    per_page: state.bookList.per_page,\r\n                    pages: [],\r\n                    books: [],\r\n                    loading: false,\r\n                    error: action.payload,\r\n                    visibleItem: []\r\n                    \r\n                }\r\n            case 'SEARCH_TO_BOOK':\r\n                return {\r\n                    per_page: state.bookList.per_page,\r\n                    pages: state.bookList.pages,\r\n                    books: state.bookList.books,\r\n                    loading: false,\r\n                    error: null,\r\n                    visibleItem: checkPage(state, search(state, action.payload), false, 0)\r\n                   \r\n                }   \r\n            case 'PAGES_TO_BOOK': \r\n            return {\r\n                per_page: state.bookList.per_page,\r\n                start_offset: (state.bookList.page - 1) * state.bookList.per_page,\r\n                pages: state.bookList.pages,\r\n                books: state.bookList.books,\r\n                loading: false,\r\n                error: null,\r\n                visibleItem: checkPage(state, state.bookList.books, true, action.payload)\r\n            \r\n            }\r\n                default:\r\n                        return state.bookList;\r\n        }\r\n    };\r\nexport default updateBookList;","\r\nconst updateCartItems = (cartItems, checkBook, typeUpdate, price) => {\r\n    const oldBook = cartItems[checkBook]\r\n    const addBook = { ...oldBook,\r\n        count: oldBook.count + typeUpdate,\r\n        total: (+oldBook.total + +typeUpdate*price).toFixed(2) };\r\n  return [\r\n    ...cartItems.slice(0, checkBook),\r\n    addBook,\r\n    ...cartItems.slice(checkBook + 1)\r\n]\r\n}\r\n\r\nconst addedCartItems = (cartItems,  book ) => {\r\n    const newItem = {\r\n        id: book.id,\r\n        title: book.title,\r\n        count: 1,\r\n        total: book.price\r\n    };\r\n    return[\r\n            ...cartItems,\r\n            newItem\r\n        ]\r\n    \r\n}\r\nconst deletedCartItems = (cartItems, idDelBook) => {\r\n    return[\r\n        ...cartItems.slice(0, idDelBook),\r\n        ...cartItems.slice(idDelBook + 1)\r\n    ]\r\n}\r\n\r\nconst updateTotalOrder = (typeUpdate, orderTotal, price, cartItems, checkBook) => {\r\n    if(typeUpdate===0){\r\n        const oldBook = cartItems[checkBook];\r\n        const newTotalOrder = (+orderTotal - oldBook.total).toFixed(2);\r\n        return newTotalOrder;\r\n    }\r\n    const newTotalOrder = (+orderTotal + +typeUpdate*price).toFixed(2);\r\n    return  newTotalOrder;\r\n}\r\nconst updateTotalCount = (typeUpdate, orderCount, cartItems, checkBook) => {\r\n    if(typeUpdate===0){\r\n        const oldBook = cartItems[checkBook];\r\n        const newTotal = (+orderCount - oldBook.count);\r\n        return newTotal;\r\n    }\r\n    const newTotal = (+orderCount + +typeUpdate);\r\n    return  newTotal;\r\n}\r\n\r\nconst updateOrder = (state, payload, typeUpdate) => {\r\n    const bookId = payload;\r\n    const {bookList: {books}, shoppingCart: {cartItems, orderTotal, orderCount}} = state;\r\n    const book = books.find(({id}) => id === bookId);\r\n    const checkBook = cartItems.findIndex(({id}) => id === bookId);\r\n    switch(typeUpdate){\r\n    case -1:\r\n        const checkCount = cartItems[checkBook].count; \r\n        if(checkCount===1){\r\n               return{ \r\n                orderCount: updateTotalCount(typeUpdate, orderCount, cartItems, checkBook),\r\n                orderTotal: updateTotalOrder(typeUpdate, orderTotal, book.price, cartItems, checkBook),\r\n                cartItems: deletedCartItems(cartItems, checkBook)\r\n           }     \r\n        }\r\n        else{ return{\r\n                    orderCount: updateTotalCount(typeUpdate, orderCount, cartItems, checkBook),\r\n                    orderTotal: updateTotalOrder(typeUpdate, orderTotal, book.price, cartItems, checkBook),\r\n                    cartItems: updateCartItems(cartItems, checkBook, typeUpdate, book.price)\r\n                }                \r\n        }\r\n    case 1:\r\n        if (checkBook === -1) {\r\n                return {\r\n                    orderCount: updateTotalCount(typeUpdate, orderCount, cartItems, checkBook),\r\n                    orderTotal: updateTotalOrder(typeUpdate, orderTotal, book.price, cartItems, checkBook),\r\n                    cartItems: addedCartItems(cartItems, book)\r\n                }\r\n            } else {\r\n                return {\r\n                    orderCount: updateTotalCount(typeUpdate, orderCount, cartItems, checkBook),\r\n                    orderTotal: updateTotalOrder(typeUpdate, orderTotal, book.price, cartItems, checkBook),\r\n                    cartItems: updateCartItems(cartItems, checkBook, typeUpdate, book.price)\r\n                }\r\n            }\r\n    case 0:\r\n         return{ \r\n                    orderCount: updateTotalCount(typeUpdate, orderCount, cartItems, checkBook),\r\n                    orderTotal: updateTotalOrder(typeUpdate, orderTotal, book.price, cartItems, checkBook),\r\n                    cartItems: deletedCartItems(cartItems, checkBook)\r\n               }\r\n       default:\r\n            break\r\n        }       \r\n    }\r\n\r\nconst updateShoppingCart = (state, action) => {\r\n    if(state === undefined){\r\n        return{\r\n            orderCount: 0,\r\n            cartItems: [],\r\n            orderTotal: 0 \r\n       }\r\n    }\r\n\r\n    switch (action.type) {\r\n\r\n        case 'BOOK_ADDED_TO_CART':\r\n                return updateOrder(state, action.payload, 1);\r\n\r\n                case 'BOOK_DELETE_TO_CART':\r\n                return updateOrder(state, action.payload, 0);\r\n               \r\n                case 'BOOK_DECREASE_TO_CART':\r\n                 return updateOrder(state, action.payload, -1);\r\n                 default:\r\n                     return state.shoppingCart;\r\n    }\r\n}\r\nexport default updateShoppingCart;","const updeateOrederItem = (state, action) => {\r\n    \r\n        const {bookList: {books}, orderBook: {obviouslyOrder}} = state;\r\n        if(action === undefined){\r\n        return {\r\n            obviouslyOrder : !obviouslyOrder,\r\n            orederItems: [],\r\n            totalPrice: 0\r\n        }\r\n         }\r\n    const book = books.find(({id}) => id === action);\r\n    const newItem = {\r\n        id: book.id,\r\n        title: book.title,\r\n        count: 1,\r\n        total: book.price\r\n    };\r\n    return {\r\n    obviouslyOrder : !obviouslyOrder,\r\n    orederItems: [newItem],\r\n    totalPrice: book.price\r\n}\r\n}\r\nconst updeateOrederItems = (state) => {\r\n    const {shoppingCart: {cartItems, orderTotal}, orderBook: {obviouslyOrder}} = state;\r\n    return {\r\n        obviouslyOrder : !obviouslyOrder,\r\n        orederItems: cartItems,\r\n        totalPrice: orderTotal\r\n    }\r\n}\r\n\r\nconst updateBuyBook = ( state, action) => {\r\n    \r\n    if(state === undefined){\r\n        return{\r\n            obviouslyOrder: false,\r\n            orederItems: [],\r\n            totalPrice: 0\r\n       }\r\n    }\r\n    \r\n    switch(action.type){\r\n        case 'BUY_TO_BOOK':\r\n            return updeateOrederItem(state, action.payload)\r\n        \r\n        case 'BUY_TO_ORDER':\r\n            return updeateOrederItems(state)\r\n        case 'POST_ORDER_REQUEST':\r\n           return {\r\n                obviouslyOrder: false,\r\n                orederItems: [],\r\n                totalPrice: 0\r\n        }    \r\n        default:\r\n        return state.orderBook\r\n        }\r\n    \r\n}\r\n\r\nexport default updateBuyBook;","const updatePostOrder = (state, action) => {\r\n\r\n    if (state === undefined) {\r\n        return {\r\n            obviouslyform: false,\r\n            successPost: false,\r\n            loading: false,\r\n            error: null,\r\n        }\r\n    }\r\n\r\n    switch (action.type) {\r\n        case 'OPEN_ORDER':\r\n            return{\r\n                successPost: false,\r\n                obviouslyform: true,\r\n                loading: true,\r\n                error: null,\r\n            }\r\n        case 'POST_ORDER_REQUEST':\r\n            return {\r\n                successPost: false,\r\n                obviouslyform: state.postOrder.obviouslyform,\r\n                loading: true,\r\n                error: null,\r\n            }\r\n        case 'POST_ORDER_SUCCESS':\r\n            return {\r\n                obviouslyform: true,\r\n                successPost: action.payload,\r\n                loading: false,\r\n                error: null,\r\n            }\r\n        case 'POST_ORDER_FAILURE':\r\n            return {\r\n                obviouslyform: state.postOrder.obviouslyform,\r\n                loading: false,\r\n                error: action.payload,\r\n            }\r\n        case 'OPEN_CLOSE_FORM':\r\n            return {\r\n                loading: false,\r\n                obviouslyform: !state.postOrder.obviouslyform,\r\n                error: null\r\n            }\r\n            default:\r\n                return state.postOrder\r\n    }\r\n\r\n}\r\n\r\nexport default updatePostOrder;","\r\nimport updateBookList from './book-list';\r\nimport updateShoppingCart from './shopping-cart'\r\nimport updateBuyBook from './order'\r\nimport updatePostOrder from './postOrder'\r\n\r\n\r\nconst reducer = (state, action) => {  \r\n    return {\r\n        bookList: updateBookList(state, action),\r\n        shoppingCart: updateShoppingCart(state, action),\r\n        orderBook: updateBuyBook(state, action),\r\n        postOrder: updatePostOrder(state, action)\r\n    }\r\n}\r\nexport default reducer;","import { createStore, combineReducers} from 'redux'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport reducer from './reducers'\r\n\r\nconst rootReducer = combineReducers({\r\n    bookReduser :reducer,\r\n    form: formReducer\r\n  })\r\n\r\nconst store = createStore(rootReducer);\r\nexport default store; ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport BookService from './services/bookstore-services'\nimport { BookServiceProvider } from './components/bookstore-service-context';\nimport ErrorBoundry from \"./components/error/error-boundry\"\nimport OrderSumContainer from './components/order-sum'\nimport OrderFormContainer from './components/order-form'\n\nimport App from './components/app'\nimport store from './store'\n\nconst bookstoreService = new BookService();\n\n\nReactDOM.render(\n<Provider store={store}>\n  <ErrorBoundry>\n    <BookServiceProvider value={bookstoreService}>\n       <OrderSumContainer/>\n       <OrderFormContainer/>\n      <Router >\n     \n        <App/>\n      </Router>\n    </BookServiceProvider>\n  </ErrorBoundry>\n</Provider>,\ndocument.getElementById('root')\n  );","export default class BookService {\r\n    constructor(){\r\n\r\n    const __apiBase = \"http://reactjs-hsnet.mocklab.io/book\";\r\n\r\n        async function getResource() {\r\n            const res = await fetch(`${__apiBase}`);\r\n            if (!res.ok) {\r\n                throw new Error(`Could not fetch ${__apiBase}` +\r\n                    ` received ${res.status}`);\r\n            }\r\n            return await res.json();\r\n        }\r\n\r\n    this.getAllBook = async () => {\r\n        const res = await getResource();\r\n    \r\n        return res.books.map(this._transformBook);\r\n    }\r\n    this._transformBook = (book) => {\r\n        return{\r\n        id:  book.bookId,\r\n        title: book.bookName,\r\n        author: book.author,\r\n        price: book.price,\r\n        coverImage: book.img,\r\n        pagesAmount:  book.pagesAmount\r\n        }\r\n    }  \r\n    \r\n    const __apiPost = \"https://reactjs-hsnet.mocklab.io/order\";\r\n    \r\n    async function postResource(data) {\r\n    const res = await fetch(`${__apiPost}`, {\r\n    method: 'POST', \r\n    body: data});\r\n    if (!res.ok) {\r\n        throw new Error(`Could not fetch ${__apiBase}` +\r\n            ` received ${res.status}`);\r\n    }\r\n    return await res.json();\r\n    }\r\n    this.postForm = async (data) => {\r\n        const res = await postResource(data);\r\n       \r\n        return res.success\r\n       \r\n    }\r\n}   \r\n}\r\n"],"sourceRoot":""}